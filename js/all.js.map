{"version":3,"sources":["add2.js","all.js"],"names":["wFucition","console","log","$","document","ready","initMap","showInfo","on","e","preventDefault","html","ajax","type","url","success","data","thisData","parkingLots","length","infowindow","google","maps","InfoWindow","map","marker","i","val","areaName","latlng","LatLng","wgsY","wgsX","myOptions","zoom","center","Map","parkName","surplusSpace","totalSpace","payGuide","address","item_template","result","replace","append","Marker","position","event","addListener","mapObj","markerObj","setContent","infoContent","open","find","children","click","siblings","slideToggle","error"],"mappings":";;AAAA,IAAIA,YAAY,SAAZA,SAAY;AAAA,SAAMC,QAAQC,GAAR,CAAY,GAAZ,CAAN;AAAA,CAAhB;;;ACCAC,EAAEC,QAAF,EAAYC,KAAZ,CAAkB,YAAU;AACxB,aAASC,OAAT,GAAkB,CAAE;;AAEpB,aAASC,QAAT,GAAmB,CAAE;AACrBJ,MAAE,YAAF,EAAgBK,EAAhB,CAAmB,QAAnB,EAA6B,UAASC,CAAT,EAAW;AACpCA,UAAEC,cAAF;AACAP,UAAE,WAAF,EAAeQ,IAAf,CAAoB,EAApB;AACAR,UAAES,IAAF,CAAO;AACHC,kBAAM,KADH;AAEHC,iBAAK,iBAFF;AAGHC,qBAAS,iBAASC,IAAT,EAAc;AACnB,oBAAMC,WAAWD,KAAKE,WAAtB;AACAjB,wBAAQC,GAAR,CAAYe,SAASE,MAArB;;AAEA,oBAAIC,aAAa,IAAIC,OAAOC,IAAP,CAAYC,UAAhB,EAAjB;AACA,oBAAIC,GAAJ;AACA,oBAAIC,SAAS,EAAb;AACA,qBAAI,IAAIC,IAAE,CAAV,EAAaA,IAAGT,SAASE,MAAzB,EAAiCO,GAAjC,EAAqC;AACjC,wBAAGvB,EAAE,YAAF,EAAgBwB,GAAhB,OAA0BV,SAASS,CAAT,EAAYE,QAAzC,EAAkD;AAC9C,4BAAIC,SAAS,IAAIR,OAAOC,IAAP,CAAYQ,MAAhB,CAAuBb,SAASS,CAAT,EAAYK,IAAnC,EAAyCd,SAASS,CAAT,EAAYM,IAArD,CAAb;AACA;AACA,4BAAIC,YAAY;AACZC,kCAAM,EADM;AAEZC,oCAAQN;AAFI,yBAAhB;AAIH,qBARgC,CAQ/B;AACL,iBAhBkB,CAgBjB;;AAEF,oBAAIL,MAAM,IAAIH,OAAOC,IAAP,CAAYc,GAAhB,CAAoBjC,EAAE,MAAF,EAAU,CAAV,CAApB,EAAkC8B,SAAlC,CAAV,CAlBmB,CAkBoC;AACvD,qBAAIP,IAAE,CAAN,EAASA,IAAET,SAASE,MAApB,EAA4BO,GAA5B,EAAgC;;AAE5B,wBAAIW,WAAWpB,SAASS,CAAT,EAAYW,QAA3B;AACA,wBAAIT,WAAWX,SAASS,CAAT,EAAYE,QAA3B;AACA,wBAAIU,eAAerB,SAASS,CAAT,EAAYY,YAA/B;AACA,wBAAIC,aAAatB,SAASS,CAAT,EAAYa,UAA7B;AACA,wBAAIC,WAAWvB,SAASS,CAAT,EAAYc,QAA3B;AACA,wBAAIC,UAAUxB,SAASS,CAAT,EAAYe,OAA1B;;AAEA,wBAAIC,8jBAAJ;;AAWA,wBAAIC,SAASD,cAAcE,OAAd,CAAsB,cAAtB,EAAqCP,QAArC,EACZO,OADY,CACJ,kBADI,EACeN,YADf,EAEZM,OAFY,CAEJ,gBAFI,EAEaL,UAFb,EAGZK,OAHY,CAGJ,cAHI,EAGWJ,QAHX,EAIZI,OAJY,CAIJ,aAJI,EAIUH,OAJV,CAAb;AAKA,wBAAGtC,EAAE,YAAF,EAAgBwB,GAAhB,OAA0BC,QAA7B,EAAsC;AAClCzB,0BAAE,WAAF,EAAe0C,MAAf,CAAsBF,MAAtB;;AAII;AACJlB,+BAAOC,CAAP,IAAY,IAAIL,OAAOC,IAAP,CAAYwB,MAAhB,CAAuB;AAC/BC,sCAAU,IAAI1B,OAAOC,IAAP,CAAYQ,MAAhB,CAAuBb,SAASS,CAAT,EAAYK,IAAnC,EAAwCd,SAASS,CAAT,EAAYM,IAApD,CADqB;AAE/BR,iCAAKA,GAF0B;AAG/Ba,sCAAUA,QAHqB;AAI/BC,0CAAcA,YAJiB;AAK/BC,wCAAYA;;AALmB,yBAAvB,CAAZ;AAQI;AACAlB,+BAAOC,IAAP,CAAY0B,KAAZ,CAAkBC,WAAlB,CAA8BxB,OAAOC,CAAP,CAA9B,EAAwC,OAAxC,EAAgD,YAAU;AAC1DnB,qCAASiB,GAAT,EAAc,IAAd;AACC,yBAFD;AAGP,qBA3C2B,CA2C1B;AACFjB,+BAAW,kBAAS2C,MAAT,EAAiBC,SAAjB,EAA2B;AAClC/B,mCAAWgC,UAAX,CAAsBC,YAAYF,SAAZ,CAAtB;AACA/B,mCAAWkC,IAAX,CAAgBJ,MAAhB,EAAwBC,SAAxB;AACH,qBAHD,CA5C4B,CA+C3B;;AAED;AACA,wBAAIE,cAAc,SAAdA,WAAc,CAASF,SAAT,EAAoB;AAAE;AACpC,4BAAIxC,OAAO,aAAYwC,UAAUd,QAAtB,GAAgC,OAA3C;AACA1B,gCAAQ,eAAcwC,UAAUb,YAAxB,GAAsC,cAA9C;AACA3B,gCAAQ,eAAcwC,UAAUZ,UAAxB,GAAoC,cAA5C;;AAEA,+BAAO5B,IAAP;AACH,qBAND;AASH,iBA9EkB,CA8EjB;;AAEF;AACAR,kBAAE,WAAF,EAAeoD,IAAf,CAAoB,WAApB,EAAiCC,QAAjC,CAA0C,GAA1C,EAA+CC,KAA/C,CAAqD,YAAW;AAC5DtD,sBAAE,IAAF,EAAQuD,QAAR,GAAmBC,WAAnB;AACH,iBAFD;AAGH,aAvFE;AAwFHC,mBAAO,iBAAU;AACb3D,wBAAQC,GAAR,CAAY,MAAZ;AACH;AA1FE,SAAP;AA6FH,KAhGD,EAJwB,CAoGpB;;AAIP,CAxGD","file":"all.js","sourcesContent":["let wFucition = () => console.log('b');","\r\n$(document).ready(function(){\r\n    function initMap(){};\r\n\r\n    function showInfo(){};\r\n    $('#js-select').on('change', function(e){\r\n        e.preventDefault();\r\n        $('#listitem').html('');\r\n        $.ajax({\r\n            type: 'GET',\r\n            url: './openData.json',\r\n            success: function(data){\r\n                const thisData = data.parkingLots\r\n                console.log(thisData.length)\r\n    \r\n                var infowindow = new google.maps.InfoWindow();\r\n                var map;\r\n                var marker = [];\r\n                for(var i=0; i< thisData.length; i++){\r\n                    if($('#js-select').val() === thisData[i].areaName){\r\n                        var latlng = new google.maps.LatLng(thisData[i].wgsY, thisData[i].wgsX);\r\n                        //縮放大小\r\n                        var myOptions = {\r\n                            zoom: 13,\r\n                            center: latlng\r\n                        };\r\n                    } // if End\r\n                } //for End\r\n    \r\n                var map = new google.maps.Map($(\"#map\")[0], myOptions);//Create Map\r\n                for(i=0; i<thisData.length; i++){\r\n    \r\n                    var parkName = thisData[i].parkName;\r\n                    var areaName = thisData[i].areaName;\r\n                    var surplusSpace = thisData[i].surplusSpace;\r\n                    var totalSpace = thisData[i].totalSpace;\r\n                    var payGuide = thisData[i].payGuide;\r\n                    var address = thisData[i].address;\r\n    \r\n                    var item_template = `\r\n                    <li class=\"dropDown\"> \r\n                        <a>{{parkName}}</a>\r\n                        <div class=\"submenu\">\r\n                            <p>是否開放：<span>{{surplusSpace}}</span></p>\r\n                            <p>剩餘車位：<span>{{totalSpace}}</span></p>\r\n                            <p>收費費率：<span>{{payGuide}}</span></p>\r\n                            <p>地址：<span>{{address}}</span></p>\r\n                        </div>\r\n                    </li>`\r\n    \r\n                    var result = item_template.replace(\"{{parkName}}\",parkName)\r\n                    .replace(\"{{surplusSpace}}\",surplusSpace)\r\n                    .replace(\"{{totalSpace}}\",totalSpace)\r\n                    .replace(\"{{payGuide}}\",payGuide)\r\n                    .replace(\"{{address}}\",address)\r\n                    if($('#js-select').val() === areaName){\r\n                        $('#listitem').append(result);\r\n                            \r\n\r\n\r\n                            // add map marker\r\n                        marker[i] = new google.maps.Marker({\r\n                            position: new google.maps.LatLng(thisData[i].wgsY,thisData[i].wgsX),\r\n                            map: map,\r\n                            parkName: parkName,\r\n                            surplusSpace: surplusSpace,\r\n                            totalSpace: totalSpace\r\n\r\n                        }); \r\n                            //open infowindow event 標記名稱\r\n                            google.maps.event.addListener(marker[i],'click',function(){\r\n                            showInfo(map, this);\r\n                            });\r\n                    } //if End\r\n                    showInfo = function(mapObj, markerObj){\r\n                        infowindow.setContent(infoContent(markerObj));\r\n                        infowindow.open(mapObj, markerObj);\r\n                    }//showInfo\r\n\r\n                    //標記圖標上顯示\r\n                    var infoContent = function(markerObj) { // Setting infowindow content function\r\n                        var html = '<li>名稱: '+ markerObj.parkName +'</li>';\r\n                        html += '<li>是否開放: '+ markerObj.surplusSpace +'</li></span>';\r\n                        html += '<li>剩餘位數: '+ markerObj.totalSpace +'</li></span>';\r\n                        \r\n                        return html;\r\n                    }    \r\n\r\n\r\n                } //for End\r\n\r\n                //需放在他結束後，否則有幾欄它則會開關幾次\r\n                $('#listitem').find('.dropDown').children('a').click(function (){\r\n                    $(this).siblings().slideToggle();\r\n                })                \r\n            },\r\n            error: function(){\r\n                console.log('載入失敗')\r\n            }\r\n        })\r\n    \r\n    }); //onChange End\r\n\r\n\r\n\r\n});\r\n"]}